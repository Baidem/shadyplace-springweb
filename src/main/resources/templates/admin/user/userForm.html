<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org"
>

<head>
  <meta charset="UTF-8">
  <title>User edit</title>
  <div th:replace="fragments/links-global">...</div>
</head>

<body class="">

<header th:replace="fragments/header.html :: header">...</header>

<nav th:replace="fragments/navbar.html :: navbar">...</nav>

<main>

  <!--/* Account card form */-->
  <session>
    <div class="container my-4">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <div class="">
            <!--/* Card */-->
            <form id="myForm" th:object="${userForm}" method="post" class="">

              <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

              <div class="card shadow">
              <div class="card-header bg-bluesky text-light">User account</div>
              <ul class="list-group list-group-flush">
                <!--/* FIRSTNAME */-->
                <li class="list-group-item container-fluid">
                  <div class="row input-group input-group-sm">
                    <div class="col-3">
                        <label for="firstname" class="form-label">
                          Firstname
                        </label>
                    </div>
                    <div class="col-9">
                      <input
                              id="firstname"
                              type="text"
                              th:field="*{firstname}"
                              class="form-control shadow-sm"
                              style="max-width: 18rem;"
                      />
                      <small
                              th:if="${#fields.hasErrors('firstname')}"
                              th:errors="*{firstname}"
                              class="form-text text-light"
                      ></small>
                    </div>
                  </div>
                </li>
                <!--/* LASTNAME */-->
                <li class="list-group-item container-fluid">
                  <div class="row input-group input-group-sm">
                    <div class="col-3">
                        <label for="lastname" class="form-label">Last name</label>
                    </div>
                    <div class="col-9">
                      <input
                              id="lastname" type="text"
                              th:field="*{lastname}"
                              class="form-control shadow-sm"
                              style="max-width: 18rem;"
                      />
                      <small
                              th:if="${#fields.hasErrors('lastname')}"
                              th:errors="*{lastname}"
                              class="form-text text-light"
                      ></small>
                    </div>
                  </div>
                </li>
                <!--/* REGISTER DATE */-->
                <li class="list-group-item container-fluid">
                  <div class="row input-group input-group-sm">
                    <div class="col-3">
                        <span class="form-label">Register date</span>
                    </div>
                    <div class="col-9">
                      <span th:text="${#dates.format(user.registrationDate, 'dd/MM/yyyy')}"></span>
                    </div>
                  </div>
                </li>
                <!--/* EMAIL */-->
                <li class="list-group-item container-fluid">
                  <div class="row input-group input-group-sm">
                    <div class="col-3">
                      <label for="email" class="form-label">Email</label>
                    </div>
                    <div class="col-9">
                      <input
                              id="email"
                              type="text"
                              th:field="*{email}"
                              class="form-control shadow-sm"
                              style="max-width: 18rem;"
                      />
                      <small
                              th:if="${#fields.hasErrors('email')}"
                              th:errors="*{email}"
                              class="form-text text-light"
                      ></small>
                    </div>
                  </div>
                </li>
                <!--/* COUNTRY */-->
                <li class="list-group-item container-fluid">
                  <div class="row input-group">
                    <div class="col-3">
                      <label class="form-label">Country of residence</label>
                    </div>
                    <div class="col-9">
                      <select
                              name="country"
                              class="form-select shadow-sm"
                              style="max-width: 18rem;"
                      >
                        <option th:value="${userForm.country}" th:text="${userForm.country}"></option>
                        <option th:each="country: ${countryList}" th:value="${country}" th:text="${country}"></option>
                      </select>
                      <small
                              th:if="${#fields.hasErrors('country')}"
                              th:errors="*{country}"
                              class="form-text text-light"
                      ></small>
                    </div>
                  </div>
                </li>
                <!--/* FAMILY LINK */-->
                <li class="list-group-item container-fluid">
                  <div class="row input-group">
                    <div class="col-3">
                      <label class="form-label">Family link</label>
                    </div>
                    <div class="col-9">
                      <select
                              name="familyLink"
                              class="form-select shadow-sm"
                              style="max-width: 18rem;"
                      >
                        <option th:value="${userForm.familyLink.id}" th:text="${userForm.familyLink.label.label}"></option>
                        <option th:each="familyLink: ${familyLinkList}" th:value="${familyLink.id}" th:text="${familyLink.label.label}"></option>
                      </select>
                      <small
                              th:if="${#fields.hasErrors('familyLink')}"
                              th:errors="*{familyLink}"
                              class="form-text text-light"
                      ></small>
                    </div>
                  </div>
                </li>
                <!--/* ROLE */-->
                <li class="list-group-item container-fluid">
                  <div class="row input-group">
                    <div class="col-3">
                      <label class="form-label">Family link</label>
                    </div>
                    <div class="col-9">
                      <select
                              name="role"
                              class="form-select shadow-sm"
                              style="max-width: 18rem;"
                      >
                        <option th:value="${userForm.role.id}" th:text="${userForm.role.roleName}"></option>
                        <option th:each="role: ${roleList}" th:value="${role.id}" th:text="${role.roleName}"></option>
                      </select>
                      <small
                              th:if="${#fields.hasErrors('role')}"
                              th:errors="*{role}"
                              class="form-text text-light"
                      ></small>
                    </div>
                  </div>
                </li>
                <!--/* BUTTONS CANCEL, SUBMIT */-->
                <li class="list-group-item container-fluid">
                  <div class="row justify-content-end">
                    <div class="col-auto">
                      <a th:href="@{/admin/user/list}" class="btn btn-secondary">Back to user list</a>
                    </div>
                    <div class="col-auto">
                      <button type="submit" class="btn btn-primary">Submit</button>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </session>




</main>

<footer th:replace="fragments/footer.html :: footer">...</footer>

<div th:replace="fragments/scripts-js.html">...</div>
</body>
</html>